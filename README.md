# TRPG 工具集

为桌面角色扮演游戏（TRPG / 跑团）爱好者打造的轻量级工具网站，提供规则查阅、骰子模拟、Token 制作、跑团记录与角色背景生成等功能。

---

## 项目简介

本网站汇集跑团中常用的实用工具，帮助 GM 与玩家专注于游戏体验、简化记录与查询。页面采用统一的深色主题与响应式布局，支持在电脑与手机上使用。

---

## 功能列表

| 工具 | 说明 | 入口 |
|------|------|------|
| **网站资源集** | 汇集 Pathfinder 等 TRPG 规则相关网站链接，支持分类与搜索，快速查规则与扩展 | 首页 → 访问网站资源 |
| **骰子模拟器** | 多面骰组合投掷（如 d20、d6），支持调整值、投掷历史与期望值计算 | 首页 → 使用模拟器 |
| **Token 制作器** | 制作虚拟棋子/角色标记图，可选边框与文字，导出图片用于 VTT 或展示 | 首页 → 制作 Token |
| **跑团记录** | 管理多场跑团：开团信息、玩家列表、游戏日志、LOOT 记录；数据可保存到服务器 | 首页 → 跑团记录 |
| **背景故事生成** | 通过对话式界面，用 AI 生成角色背景故事，便于快速写角色介绍 | 首页 → 背景生成 |
| **LOOT 记录**（独立页） | 轻量战利品记录：快速添加、表格内编辑、归属分配、金币均分、导出 CSV；数据仅存本机 | 直接打开 `log.html` |

---

## 使用说明

### 如何打开

- **本地使用**：用浏览器直接打开根目录下的 `index.html` 即可进入首页，再点击对应工具卡片进入子页面。
- **部署到服务器**：将整个「网站」文件夹上传到 Web 服务器（如 IIS、Nginx），通过域名或 IP 访问 `index.html` 所在目录即可。

### 各工具简要用法

1. **网站资源集**  
   在页面中按分类（如 PF1、PFS）或搜索框查找规则网站，点击卡片上的「访问网站」即可跳转。

2. **骰子模拟器**  
   添加骰子组（面数、数量、调整值），点击投掷即可得到结果；可查看历史与统计。

3. **Token 制作器**  
   选择或上传图片、选择边框样式、填写文字，在预览区查看效果，使用「导出」保存为图片。

4. **跑团记录**  
   - 左侧：新建或选择一场跑团。  
   - 右侧：切换「跑团信息 / 玩家 / 日志 / LOOT 记录」等标签，在对应区域添加、编辑、筛选。  
   - 若需持久化保存，需将站点放在**支持 PHP** 的服务器上，并保证 `跑团记录/save_data.php` 可访问；数据会写入同目录下的 `trpg_data.json`。

5. **背景故事生成**  
   在聊天框中输入角色设定或需求，根据页面说明与 AI 对话生成背景故事（具体依赖页面内配置的接口）。

6. **LOOT 记录（log.html）**  
   - **快速添加**：填写名称、数量、单价、类型后点击「快速添加」即可写入列表。  
   - **参与分配**：在「参与分配」栏输入玩家/角色名并回车，后续可在表格中为每条物品选择归属。  
   - **表格内编辑**：可直接在表格中修改数量、归属、是否出售，无需弹窗。  
   - **金币均分**：填写人数后点击「均分未分配金币」，将未分配的金币类物品按人数自动均分并生成分配记录。  
   - **导出**：支持导出当前列表为 CSV、复制分配摘要到剪贴板。  
   - 数据保存在浏览器 **localStorage**，仅本机有效，无需后端。

---

## 目录结构

```
网站/
├── index.html           # 首页（工具导航）
├── log.html             # 独立 LOOT 记录页（本机存储）
├── README.md            # 本说明文件
├── web.config           # 服务器配置（如 IIS）
├── 小工具/
│   ├── 网站资源集.html
│   ├── 骰子模拟器.html
│   ├── token制作器.html
│   ├── 背景故事生成.html
│   ├── borders/         # Token 边框图片等资源
│   └── file/            # 规则文件等（如 pathfinder）
└── 跑团记录/
    ├── 跑团记录.html    # 跑团信息 / 玩家 / 日志 / LOOT 主页面
    ├── save_data.php    # 跑团数据读写接口（需 PHP 环境）
    └── trpg_data.json   # 跑团数据存储文件（由 save_data.php 读写）
```

---

## 技术说明

- **前端**：纯 HTML + CSS + JavaScript，无构建步骤；图标使用 Font Awesome 6（CDN）。
- **跑团记录持久化**：依赖 `跑团记录/save_data.php`，需 PHP 环境；GET 读取、POST 保存 JSON。
- **LOOT 独立页（log.html）**：仅使用浏览器 localStorage，无需任何后端。
- **建议环境**：现代浏览器（Chrome、Edge、Firefox、Safari 等）；部署跑团记录时需支持 PHP 的服务器。

---

## 版权与备案

© 2025 TRPG 工具集 · 陕ICP备2026000938号

如有问题或建议，可在项目内反馈或自行修改使用。
