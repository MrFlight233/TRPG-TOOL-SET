<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TRPG网站资源集</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            min-height: 100vh;
            color: white;
            padding: 15px;
            padding-bottom: env(safe-area-inset-bottom, 15px);
        }

        @keyframes gradientBG {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: clamp(20px, 5vw, 30px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        header {
            text-align: center;
            margin-bottom: clamp(25px, 5vw, 40px);
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(79, 195, 247, 0.3);
        }

        h1 {
            font-size: clamp(2.2rem, 7vw, 3rem);
            margin-bottom: 10px;
            background: linear-gradient(to right, #ff8a00, #da1b60);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            line-height: 1.2;
        }

        .subtitle {
            font-size: clamp(1rem, 3.5vw, 1.2rem);
            opacity: 0.8;
            margin-bottom: 20px;
        }

        .back-btn {
            display: inline-block;
            background: rgba(79, 195, 247, 0.2);
            color: #4fc3f7;
            padding: 10px 20px;
            border-radius: 50px;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            margin-top: 10px;
            border: 1px solid rgba(79, 195, 247, 0.3);
        }

        .back-btn:hover {
            background: rgba(79, 195, 247, 0.4);
            transform: translateY(-2px);
        }

        .search-box {
            margin: 20px 0 30px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 15px 20px 15px 45px;
            border-radius: 50px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .search-box input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .search-box i {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.6);
        }

        .category-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .category-tab {
            padding: 12px 25px;
            background: rgba(30, 30, 50, 0.8);
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            font-weight: 500;
        }

        .category-tab:hover {
            background: rgba(40, 40, 70, 0.9);
        }

        .category-tab.active {
            background: linear-gradient(45deg, #2196F3, #21CBF3);
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.4);
        }

        .websites-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        @media (min-width: 768px) {
            .websites-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .category-section {
            background: rgba(30, 30, 50, 0.8);
            border-radius: 16px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }

        .category-title {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(79, 195, 247, 0.3);
        }

        .category-icon {
            font-size: 1.8rem;
            color: #4fc3f7;
            background: rgba(79, 195, 247, 0.1);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .category-title h2 {
            font-size: 1.5rem;
            color: #4fc3f7;
        }

        .website-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .website-item {
            background: rgba(40, 40, 60, 0.6);
            border-radius: 12px;
            padding: 18px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .website-item:hover {
            transform: translateY(-3px);
            background: rgba(50, 50, 80, 0.8);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }

        .website-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #e0e0e0;
        }

        .website-description {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.5;
        }

        .website-url {
            font-size: 0.8rem;
            color: rgba(79, 195, 247, 0.8);
            word-break: break-all;
        }

        .website-buttons {
            display: flex;
            gap: 8px;
            margin-top: 10px;
            flex-wrap: wrap;
            align-items: stretch;
            /* 确保按钮拉伸填满容器高度 */
            min-height: 44px;
            /* 设置最小高度 */
        }

        .website-btn {
            flex: 1;
            min-width: 120px;
            min-height: 44px;
            /* 改为 min-height 而不是 height */
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            color: white;
            padding: 0 16px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            box-sizing: border-box;
        }

        /* 确保链接按钮（a标签）也能正确显示 */
        .website-btn[href] {
            display: flex;
            /* 确保链接按钮也使用 flex 布局 */
        }



        .visit-btn {
            background: linear-gradient(45deg, #2196F3, #1976D2);
        }

        .visit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.4);
        }

        .download-btn {
            background: linear-gradient(45deg, #4CAF50, #388E3C);
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        .download-pdf-btn {
            background: linear-gradient(45deg, #4CAF50, #388E3C);
        }

        .download-pdf-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        .preview-btn {
            background: linear-gradient(45deg, #9C27B0, #673AB7);
        }

        .preview-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(156, 39, 176, 0.4);
        }

        footer {
            margin-top: 40px;
            text-align: center;
            font-size: 0.85rem;
            opacity: 0.7;
            padding: 20px 0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #4fc3f7;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
                border-radius: 12px;
            }

            .category-section {
                padding: 20px;
            }

            .category-tabs {
                justify-content: center;
            }

            .category-tab {
                padding: 10px 20px;
                font-size: 0.9rem;
            }

            .website-buttons {
                flex-direction: column;
                min-height: auto;
                /* 移动端不需要固定最小高度 */
            }

            .website-btn {
                width: 100%;
                height: 44px;
                /* 移动端保持固定高度 */
                min-height: 44px;
            }
        }

        @media (max-width: 480px) {
            .websites-container {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 1.8rem;
            }

            .subtitle {
                font-size: 1rem;
            }
        }

        @supports (-webkit-overflow-scrolling: touch) {

            input,
            select,
            textarea {
                font-size: 16px !important;
            }
        }

        @supports (padding: max(0px)) {
            body {
                padding-left: max(15px, env(safe-area-inset-left, 15px));
                padding-right: max(15px, env(safe-area-inset-right, 15px));
                padding-bottom: max(15px, env(safe-area-inset-bottom, 15px));
            }
        }

        .hidden {
            display: none;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-book"></i> TRPG网站资源集</h1>
            <p class="subtitle">汇集Pathfinder及其他TRPG规则相关网站资源</p>
            <a href="../index.html" class="back-btn">
                <i class="fas fa-arrow-left"></i> 返回首页
            </a>
        </header>

        <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="搜索规则网站...">
        </div>

        <div class="category-tabs">
            <div class="category-tab active" data-category="all">全部资源</div>
            <div class="category-tab" data-category="pf1">PF1相关</div>
            <div class="category-tab" data-category="pfs">PFS相关</div>
        </div>

        <div class="websites-container">
            <!-- PF1相关资源 -->
            <div class="category-section" data-category="pf1">
                <div class="category-title">
                    <div class="category-icon">
                        <i class="fas fa-dragon"></i>
                    </div>
                    <h2>PF1 相关资源</h2>
                </div>
                <div class="website-list">
                    <!-- CHM -->
                    <div class="website-item" data-name="chm规则聚合" data-description="规则聚合">
                        <div class="website-name">CHM规则聚合</div>
                        <div class="website-description">规则聚合，包含核心规则、扩展内容等</div>
                        <div class="website-url">https://pf1.kagangtuya.top</div>
                        <div class="website-buttons">
                            <a href="https://pf1.kagangtuya.top" target="_blank" class="website-btn visit-btn">
                                <i class="fas fa-external-link-alt"></i>
                                <span>访问网站</span>
                            </a>
                            <button class="website-btn download-btn" data-file="Pathfinder.chm"
                                data-path="file/pathfinder/">
                                <i class="fas fa-download"></i>
                                <span>下载CHM</span>
                            </button>
                        </div>
                    </div>

                    <!-- PF自动角色卡 -->
                    <div class="website-item" data-name="自动角色卡" data-description="自动角色卡">
                        <div class="website-name">自动角色卡</div>
                        <div class="website-description">PF规则的空白自动角色卡，Excel</div>
                        <div class="website-buttons">
                            <button class="website-btn download-btn" data-file="PF自动角色卡.xlsx"
                                data-path="file/pathfinder/">
                                <i class="fas fa-download"></i>
                                <span>下载 自动角色卡.xlsx</span>
                            </button>
                        </div>
                    </div>

                    <!-- 怪物图鉴 -->
                    <div class="website-item" data-name="怪物图鉴" data-description="怪物图鉴">
                        <div class="website-name">怪物图鉴</div>
                        <div class="website-description">怪物图鉴，包含各种怪物数据、属性和挑战等级</div>
                        <div class="website-url">https://dndlogs.com/pfmm/index.htm</div>
                        <div class="website-buttons">
                            <a href="https://dndlogs.com/pfmm/index.htm" target="_blank" class="website-btn visit-btn">
                                <i class="fas fa-external-link-alt"></i>
                                <span>访问网站</span>
                            </a>
                            <button class="website-btn download-btn" data-file="PF怪物图鉴.chm"
                                data-path="file/pathfinder/">
                                <i class="fas fa-download"></i>
                                <span>下载CHM</span>
                            </button>
                        </div>
                    </div>

                    <!-- 法术速查 -->
                    <div class="website-item" data-name="法术速查" data-description="法术速查">
                        <div class="website-name">法术速查</div>
                        <div class="website-description">法术速查表，快速查找法术效果、等级和施法时间</div>
                        <div class="website-url">https://xiaoxiaomeow.github.io/pathfinder/spells</div>
                        <a href="https://xiaoxiaomeow.github.io/pathfinder/spells" target="_blank"
                            class="website-btn visit-btn">
                            <i class="fas fa-external-link-alt"></i>
                            <span>访问网站</span>
                        </a>
                    </div>

                    <!-- 专长速查 -->
                    <div class="website-item" data-name="专长速查" data-description="专长速查">
                        <div class="website-name">专长速查</div>
                        <div class="website-description">专长速查表，快速查找专长效果、先决条件和类型</div>
                        <div class="website-url">https://xiaoxiaomeow.github.io/pathfinder/feats</div>
                        <a href="https://xiaoxiaomeow.github.io/pathfinder/feats" target="_blank"
                            class="website-btn visit-btn">
                            <i class="fas fa-external-link-alt"></i>
                            <span>访问网站</span>
                        </a>
                    </div>

                    <!-- AONPRD -->
                    <div class="website-item" data-name="aonprd" data-description="aonprd规则数据库">
                        <div class="website-name">AONPRD规则数据库</div>
                        <div class="website-description">官方规则参考文档，包含完整的规则、职业、法术等内容</div>
                        <div class="website-url">https://www.aonprd.com</div>
                        <a href="https://www.aonprd.com" target="_blank" class="website-btn visit-btn">
                            <i class="fas fa-external-link-alt"></i>
                            <span>访问网站</span>
                        </a>
                    </div>

                    <!-- SRD -->
                    <div class="website-item" data-name="d20pfsrd" data-description="d20pfsrd规则数据库">
                        <div class="website-name">D20PFSRD规则数据库</div>
                        <div class="website-description">SRD词库，系统参考文档，包含大量第三方内容和扩展规则</div>
                        <div class="website-url">https://www.d20pfsrd.com</div>
                        <a href="https://www.d20pfsrd.com" target="_blank" class="website-btn visit-btn">
                            <i class="fas fa-external-link-alt"></i>
                            <span>访问网站</span>
                        </a>
                    </div>
                </div>
            </div>

            <!-- PFS相关资源 -->
            <div class="category-section" data-category="pfs">
                <div class="category-title">
                    <div class="category-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h2>PFS 相关资源</h2>
                </div>
                <div class="website-list">
                    <!-- PFS指南 -->
                    <div class="website-item" data-name="PFS指南" data-description="PFS新手指引">
                        <div class="website-name">PFS指南</div>
                        <div class="website-description">PFS规则，包含与普通游戏区别、记录单等</div>
                        <div class="website-buttons">
                            <button class="website-btn download-pdf-btn" data-file="PFS Guide 中文.pdf"
                                data-path="file/pathfinder/">
                                <i class="fas fa-download"></i>
                                <span>下载PDF</span>
                            </button>
                            <button class="website-btn preview-btn" data-pdf="PFS Guide 中文.pdf"
                                data-path="file/pathfinder/">
                                <i class="fas fa-eye"></i>
                                <span>预览PDF</span>
                            </button>
                        </div>
                    </div>

                    <!-- 势力任务 -->
                    <div class="website-item" data-name="势力任务" data-description="势力任务">
                        <div class="website-name">第十季势力任务</div>
                        <div class="website-description">第十季势力任务指南，了解各势力专属任务</div>
                        <div class="website-url">https://www.goddessfantasy.net/bbs/index.php?topic=124245.0</div>
                        <div class="website-buttons">
                            <a href="https://www.goddessfantasy.net/bbs/index.php?topic=124245.0" target="_blank"
                                class="website-btn visit-btn">
                                <i class="fas fa-external-link-alt"></i>
                                <span>访问网站</span>
                            </a>
                            <button class="website-btn download-btn" data-file="第十季势力任务卡.xlsx"
                                data-path="file/pathfinder/">
                                <i class="fas fa-download"></i>
                                <span>下载 势力任务卡.xlsx</span>
                            </button>
                        </div>
                    </div>

                    <!-- 预设人物卡 -->
                    <div class="website-item" data-name="预设人物卡" data-description="预设人物卡">
                        <div class="website-name">预设人物卡</div>
                        <div class="website-description">预设人物卡资源，适合快速开始游戏</div>
                        <div class="website-url">https://www.goddessfantasy.net/bbs/index.php?topic=75229.0</div>
                        <a href="https://www.goddessfantasy.net/bbs/index.php?topic=75229.0" target="_blank"
                            class="website-btn visit-btn">
                            <i class="fas fa-external-link-alt"></i>
                            <span>访问网站</span>
                        </a>
                    </div>

                    <!-- Boon翻译 -->
                    <div class="website-item" data-name="boon翻译" data-description="boon翻译">
                        <div class="website-name">Boon翻译</div>
                        <div class="website-description">Boon翻译资源，了解游戏中的额外奖励</div>
                        <div class="website-url">https://www.goddessfantasy.net/bbs/index.php?topic=130487.0</div>
                        <a href="https://www.goddessfantasy.net/bbs/index.php?topic=130487.0" target="_blank"
                            class="website-btn visit-btn">
                            <i class="fas fa-external-link-alt"></i>
                            <span>访问网站</span>
                        </a>
                    </div>


                </div>
            </div>
        </div>

        <footer>
            <p>© 2025 TRPG工具集 | 持续更新中</p>
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-value" id="totalWebsites">0</div>
                    <div class="stat-label">总资源数</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="pf1Count">0</div>
                    <div class="stat-label">PF1资源</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="pfsCount">0</div>
                    <div class="stat-label">PFS资源</div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const searchInput = document.getElementById('searchInput');
            const categoryTabs = document.querySelectorAll('.category-tab');
            const categorySections = document.querySelectorAll('.category-section');
            const websiteItems = document.querySelectorAll('.website-item');

            updateStats();

            searchInput.addEventListener('input', function () {
                const searchTerm = this.value.toLowerCase().trim();

                websiteItems.forEach(item => {
                    const name = item.getAttribute('data-name').toLowerCase();
                    const description = item.getAttribute('data-description').toLowerCase();
                    const urlElement = item.querySelector('.website-url');
                    const url = urlElement ? urlElement.textContent.toLowerCase() : '';

                    if (name.includes(searchTerm) ||
                        description.includes(searchTerm) ||
                        url.includes(searchTerm)) {
                        item.style.display = 'flex';
                    } else {
                        item.style.display = 'none';
                    }
                });

                updateStats();
            });

            categoryTabs.forEach(tab => {
                tab.addEventListener('click', function () {
                    categoryTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');

                    const selectedCategory = this.getAttribute('data-category');

                    categorySections.forEach(section => {
                        const sectionCategory = section.getAttribute('data-category');

                        if (selectedCategory === 'all' || selectedCategory === sectionCategory) {
                            section.style.display = 'block';
                        } else {
                            section.style.display = 'none';
                        }
                    });

                    updateStats();
                });
            });

            function updateStats() {
                const totalWebsites = document.querySelectorAll('.website-item[style*="display: flex"], .website-item:not([style])').length;
                const pf1Count = document.querySelectorAll('[data-category="pf1"] .website-item[style*="display: flex"], [data-category="pf1"] .website-item:not([style])').length;
                const pfsCount = document.querySelectorAll('[data-category="pfs"] .website-item[style*="display: flex"], [data-category="pfs"] .website-item:not([style])').length;

                document.getElementById('totalWebsites').textContent = totalWebsites;
                document.getElementById('pf1Count').textContent = pf1Count;
                document.getElementById('pfsCount').textContent = pfsCount;
            }

            // 下载按钮功能
            document.querySelectorAll('.download-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    const fileName = this.getAttribute('data-file');
                    const filePath = this.getAttribute('data-path') + fileName;
                    const downloadLink = document.createElement('a');
                    downloadLink.href = filePath;
                    downloadLink.download = fileName;
                    downloadLink.style.display = 'none';
                    document.body.appendChild(downloadLink);
                    downloadLink.click();
                    document.body.removeChild(downloadLink);
                });
            });

            // 下载按钮功能
            document.querySelectorAll('.download-pdf-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    const fileName = this.getAttribute('data-file');
                    const filePath = this.getAttribute('data-path') + fileName;
                    // 直接使用相对于PDF文件夹的路径
                    const downloadUrl = filePath + '?download=true&t=' + Date.now();
                    const downloadLink = document.createElement('a');
                    downloadLink.href = downloadUrl;
                    downloadLink.download = fileName;
                    downloadLink.style.display = 'none';
                    document.body.appendChild(downloadLink);
                    downloadLink.click();
                    document.body.removeChild(downloadLink);
                });
            });

            // 预览PDF功能
            document.querySelectorAll('.preview-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    const pdfName = this.getAttribute('data-pdf');
                    const pdfPath = this.getAttribute('data-path') + pdfName;
                    window.open(pdfPath, '_blank');
                });
            });

        });
    </script>
</body>

</html>